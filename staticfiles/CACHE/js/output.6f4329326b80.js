/*!
Waypoints - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();;/*!
Waypoints Infinite Scroll Shortcut - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/!function(){"use strict";function t(n){this.options=i.extend({},t.defaults,n),this.container=this.options.element,"auto"!==this.options.container&&(this.container=this.options.container),this.$container=i(this.container),this.$more=i(this.options.more),this.$more.length&&(this.setupHandler(),this.waypoint=new o(this.options))}var i=window.jQuery,o=window.Waypoint;t.prototype.setupHandler=function(){this.options.handler=i.proxy(function(){this.options.onBeforePageLoad(),this.destroy(),this.$container.addClass(this.options.loadingClass),i.get(i(this.options.more).attr("href"),i.proxy(function(t){var n=i(i.parseHTML(t)),e=n.find(this.options.more),s=n.find(this.options.items);s.length||(s=n.filter(this.options.items)),this.$container.append(s),this.$container.removeClass(this.options.loadingClass),e.length||(e=n.filter(this.options.more)),e.length?(this.$more.replaceWith(e),this.$more=e,this.waypoint=new o(this.options)):this.$more.remove(),this.options.onAfterPageLoad(s)},this))},this)},t.prototype.destroy=function(){this.waypoint&&this.waypoint.destroy()},t.defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:i.noop,onAfterPageLoad:i.noop},o.Infinite=t}();;const infinite=new Waypoint.Infinite({element:$('.infinite-container')[0],offset:'bottom-in-view',handler:function(direction){alert('You have scrolled to a thing')},});;const navbarMenu=document.getElementById("menu"),burgerMenu=document.getElementById("burger"),bgOverlay=document.querySelector(".overlay");burgerMenu&&navbarMenu&&bgOverlay&&(burgerMenu.addEventListener("click",()=>{navbarMenu.classList.toggle("is-active"),bgOverlay.classList.toggle("is-active"),$(".toolbar__section").css("z-index","0")}),bgOverlay.addEventListener("click",()=>{navbarMenu.classList.toggle("is-active"),bgOverlay.classList.toggle("is-active"),$(".toolbar__section").css("z-index","1")})),document.querySelectorAll(".menu-link").forEach(e=>{e.addEventListener("click",()=>{navbarMenu.classList.remove("is-active"),bgOverlay.classList.remove("is-active"),$(".toolbar__section").css("z-index","1")})});var swiper=new Swiper(".slide-content",{slidesPerView:3,spaceBetween:25,loop:!0,centerSlide:"true",fade:"true",grabCursor:"true",pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{slidesPerView:1},520:{slidesPerView:2},950:{slidesPerView:3}}});function getParams(e=window.location){let t={};return new URL(e).searchParams.forEach(function(e,a){void 0!==t[a]?(Array.isArray(t[a])||(t[a]=[t[a]]),t[a].push(e)):t[a]=e}),t}function makePassword(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*i));return t}var checkboxes=document.querySelectorAll(".form-check-input"),categories=document.querySelectorAll(".category-item"),thumbnails=document.querySelectorAll(".thumbnail");const url=String(window.location.href).replaceAll("+"," ");let scheduled_function=!1;const delay_by_in_ms=500,results_div=$(".card-list"),pagination_div=$(".pagination"),endpoint="/e-shop/";let ajax_call=function(e,t){$.getJSON(e,t).done(e=>{$(".search-button").html('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>'),$(".infinite-container").css("display","grid"),results_div.html(e.html_from_view)})};function updateVariantDetails(e){$(".product").addClass("disabled");var t=new URL(window.location),a=t.href.substring(t.href.lastIndexOf("/")+1),i=$(".thumbnail.selected").data("slug");t.searchParams.set("variant",i),window.history.pushState({},"",t),$.post({type:"GET",url:"/products/"+a,data:{variant_slug:i},headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){$(".product").removeClass("disabled"),$(".product-info__wrapper").html(e.html_from_view)},500)},error:function(e,t,a){console.log("not working")}})}function getCookie(e){let t=null;if(document.cookie&&""!==document.cookie){let a=document.cookie.split(";");for(let i=0;i<a.length;i++){let r=a[i].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}}return t}const csrftoken=getCookie("csrftoken");$(document).on("click",".modal-btn",function(){var e="#"+$(this).data("modal");$(e).css({visibility:"visible",opacity:1,"pointer-events":"auto"})}),$(document).on("click",".modal-close",function(){var e="#"+$(this).data("modal");$(e).css({visibility:"hidden",opacity:0,"pointer-events":"none"})}),$(document).on("click",".remove__notification",function(){$(this).parents(".card").removeClass("active")}),$(document).on("click",".cart-btn",function(){$(".cart-wrapper").css({opacity:"1","z-index":"10"}),$(".cart.card").addClass("open")}),$(document).on("click",".hide__cart",function(){$(".cart-wrapper").css({opacity:"0","z-index":"-1"}),$(".cart.card").removeClass("open")}),$(document).on("click",function(e){$(e.target).is(".dropdown .plain-btn")?($(".dropdown-box").removeClass("open"),$(e.target).next().hasClass("open")?$(e.target).next().removeClass("open"):$(e.target).next().addClass("open")):0==$(e.target).parents(".dropdown-card").length&&$(".dropdown-box").removeClass("open")}),$(document).on("click",".close-badge",function(e){e.preventDefault();var t=$(this).parents("button").attr("data-val"),a=$("input").filter(function(){return this.value==t}),i=$(".category-item").filter(function(){return this.dataset.val==t}),r=a.prop("checked",!1);i.removeClass("selected"),i.css("--card-gradient","66%"),r&&$(this).parents("button").remove()}),$(document).on("click",".category-item",function(e){var t=$(".category-item").index($(this));$(this).hasClass("selected")?($(this).removeClass("selected"),$(".category-item").get(t).style.setProperty("--card-gradient","66%")):($(this).addClass("selected"),$(".category-item").get(t).style.setProperty("--card-gradient","35%"))}),$(document).on("click",".category-item, .close-badge",function(e){e.preventDefault(),$(".search-button").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$(".infinite-container").css("display","block"),$(".infinite-container").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>');let t=new URL(window.location);var a=$('input[name="title"]').val();a?t.searchParams.set("q",a):t.searchParams.delete("q");var i=$(".category-item.selected").map(function(e,t){return $(t).attr("data-val")}).get();i.length>0?(category=i,t.searchParams.set("category",i)):(t.searchParams.delete("category"),category=$(".category-item").map(function(e,t){return $(t).attr("data-val")}).get());var r=$('input[name="brand"]:checked').map(function(e,t){return $(t).val()}).get();if(r.length>0)n=r,t.searchParams.set("brand",n);else{var n=$('input[name="brand"]').map(function(e,t){return $(t).val()}).get();t.searchParams.delete("brand")}let o={"brand[]":n,"category[]":category,q:a,is_ajax:"True"};scheduled_function&&clearTimeout(scheduled_function),window.history.pushState({},"",t),scheduled_function=setTimeout(ajax_call,500,endpoint,o)}),$(document).on("change",'.choice-input-wrapper .form-check-input, input[name="title"]',function(e){e.preventDefault(),$(".search-button").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$(".infinite-container").css("display","block"),$(".infinite-container").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>');let t=new URL(window.location);$("infinite-container").append('<div id="overlay"><div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>');var a=$('input[name="title"]').val();a?t.searchParams.set("q",a):t.searchParams.delete("q");var i=$(".category-item.selected").map(function(e,t){return $(t).attr("data-val")}).get();i.length>0?(category=i,t.searchParams.set("category",i)):(t.searchParams.delete("category"),category=$(".category-item").map(function(e,t){return $(t).attr("data-val")}).get());var r=$('input[name="brand"]:checked').map(function(e,t){return $(t).val()}).get();if(r.length>0)n=r,t.searchParams.set("brand",n);else{var n=$('input[name="brand"]').map(function(e,t){return $(t).val()}).get();t.searchParams.delete("brand")}let o={"brand[]":n,"category[]":category,q:a,is_ajax:"True"};scheduled_function&&clearTimeout(scheduled_function),window.history.pushState({},"",t),scheduled_function=setTimeout(ajax_call,500,endpoint,o)}),$(window).on("load",function(){let e=new URL(window.location);if(e.href.includes("e-shop/?")){$(".infinite-container").css("display","block"),$(".infinite-container").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>');var t=$('input[name="title"]').val(),a=$(".category-item.selected").map(function(e,t){return $(t).attr("data-val")}).get();category=a.length>0?a:$(".category-item").map(function(e,t){return $(t).attr("data-val")}).get();var i=$('input[name="brand"]:checked').map(function(e,t){return $(t).val()}).get();if(i.length>0)r=i;else var r=$('input[name="brand"]').map(function(e,t){return $(t).val()}).get();let n={"brand[]":r,"category[]":category,q:t,is_ajax:"True"};scheduled_function&&clearTimeout(scheduled_function),window.history.pushState({},"",e),scheduled_function=setTimeout(ajax_call,500,endpoint,n)}}),thumbnails.forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.big;$(".thumbnail").removeClass("selected"),$(this).addClass("selected");var a=$(".primary").css("background-image","url("+t+")");$(".primary").empty().append(a.hide().fadeIn("slow")),url.includes(this.value)&&window.localStorage.setItem(this.id,this.dataset.slug)})}),$(document).ready(function(){var e=window.jQueryPlugin=function(e,t){return function(a){return this.length>1?(this.each(function(){var i=$(this);i.data(e)||i.data(e,t(i,a))}),this):1===this.length?(this.data(e)||this.data(e,t(this,a)),this.data(e)):void 0}};$.fn.Guantity=e("Guantity",function e(){$(document).on("click","button[data-quantity-minus]",function(){document.querySelector("input[data-quantity-target]").value--}),$(document).on("click","button[data-quantity-plus]",function(){document.querySelector("input[data-quantity-target]").value++})}),$("[data-quantity]").Guantity()}),$(document).on("click","#down-slide",function(e){768>=$(window).width()?$(".img-list").animate({scrollLeft:"+=200px"},"slow"):$(".img-list").animate({scrollTop:"+=200px"},"slow")}),$(document).on("click","#up-slide",function(e){var t=$(window).width();e.preventDefault(),t<=768?$(".img-list").animate({scrollLeft:"-=200px"},"slow"):$(".img-list").animate({scrollTop:"-=200px"},"slow")}),$(document).on("click",".thumbnail",function(e){e.preventDefault(),updateVariantDetails(e)}),$(window).on("load",function(e){url.includes("products")&&updateVariantDetails(e)}),$(document).on("click","#addCart",function(e){e.preventDefault(),$(this).html('<div class="lds-ring" style="margin: auto"><div></div><div></div><div></div><div></div></div>');var t=new URL(window.location),a=t.href.substring(t.href.lastIndexOf("/")+1),i=$(".thumbnail.selected").data("slug"),r=$("input[data-quantity-target]").val();$.post({type:"POST",url:"/add-to-cart/"+a,data:JSON.stringify({variant_slug:i,quantity:r}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){if($("price-item--discount").length)var t=$(".price-item--discount").text();else var t=$(".price-item--regular").text();$(".cart-notification__product").html('<div class="cart-product__img border"><img src="'+$(".thumbnail.selected .thumbnail-image").css("background-image").replace(/^url\(['"](.+)['"]\)/,"$1")+'" alt="385w JA Solar - Solar Panel - Black Frame" width="80" height="auto" loading="lazy"></div><div class="cart-notification__product-info"><h6 style="font-weight: 500">'+$(".product__title h1").text()+'</h6><span class="notification-product__feature">Qty: '+r+'</span><span class="notification-product__feature">Price: '+t+"</span></div>"),$(".menu-item .cart-btn").load(location.href+" .menu-item .cart-btn"),setTimeout(function(){$(".cart-wrapper").load(location.href+" .cart-wrapper .card"),$("#addCart").html("Add to Cart"),$(".cart-notification .card").addClass("active"),$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},500),setTimeout(function(){$(".cart-notification .card").removeClass("active")},8e3)},error:function(e,t,a){setTimeout(function(){$("#addCart").html("Add to Cart"),$(".form__error").fadeIn("slow"),$(".form__error").addClass("active"),$(".error__content").html(e.responseJSON.err)},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(document).on("change","input[data-update-quantity]",function(e){e.preventDefault();var t=$(this).val(),a=$(this).attr("data-update-quantity");$(this).parents(".cart-notification__product").addClass("disabled"),$.post({type:"POST",url:"/update-cart/"+a,data:JSON.stringify({quantity:t}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){$(".cart-notification__product").removeClass("disabled"),$("#cart-subtotal").load(location.href+" #cart-subtotal"),$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},500)},error:function(e,t,a){$(".cart-notification__product").removeClass("disabled"),setTimeout(function(){$(".form__error").fadeIn("slow"),$(".form__error").addClass("active"),$(".error__content").html(e.responseJSON.err)},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(document).on("click","button[data-remove-cart-item]",function(e){e.preventDefault();var t=$(this),a=t.attr("data-remove-cart-item");t.html('<div class="lds-ring" style="margin: auto;padding-left: 10px;"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/remove-item/"+a,data:JSON.stringify({slug:a}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){t.parents(".cart-notification__product").remove(),$(".menu-item .cart-btn").load(location.href+" .menu-item .cart-btn"),$("#cart-subtotal").load(location.href+" #cart-subtotal"),0==$(".cart__body .cart-notification__product").length&&($(".cart__body").html('<div class="cart__empty-state">NO ITEMS FOUND</div>'),$(".cart__footer").remove()),$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},500)},error:function(e,t,a){$(".cart-notification__product").removeClass("disabled"),setTimeout(function(){$(".form__error").fadeIn("slow"),$(".form__error").addClass("active"),$(".error__content").html("Something went wrong! Please try again.")},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),document.addEventListener("DOMContentLoaded",function(){checkboxes.forEach(function(e){url.includes(e.value)?(document.getElementById(e.id).checked=!0,html='<button class="badge plain-btn" data-val="'+e.value+'"><span>'+e.value+'</span><div class="close close-badge"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg></div></button>',$(".filter-tags").append(html)):(window.localStorage.removeItem(e.id),$('.badge[data-val="'+e.value+'"]').remove())}),categories.forEach(function(e){url.includes(e.dataset.val)?(document.getElementById(e.id).classList.add("selected"),document.getElementById(e.id).style.setProperty("--card-gradient","35%"),html='<button class="badge plain-btn" data-val="'+e.dataset.val+'"><span>'+e.dataset.val+'</span><div class="close close-badge"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg></div></button>',$(".filter-tags").append(html)):(window.localStorage.removeItem(e.id),$('.badge[data-val="'+e.dataset.val+'"]').remove())}),thumbnails.forEach(function(e,t){if(url.includes(e.dataset.slug)){e.classList.add("selected");var a=e.dataset.big,i=$(".primary").css("background-image","url("+a+")");$(".primary").empty().append(i.hide().fadeIn("slow")),0!==t&&$(".thumbnail:first").removeClass("selected")}else window.localStorage.removeItem(e.id)})}),checkboxes.forEach(function(e){e.addEventListener("change",function(){url.includes(this.value)&&window.localStorage.setItem(this.id,this.value),$('.badge[data-val="'+this.value+'"]').length?$('.badge[data-val="'+this.value+'"]').remove():(html='<button class="badge plain-btn" data-val="'+this.value+'"><span>'+this.value+'</span><div class="close close-badge"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg></div></button>',$(".filter-tags").append(html))})}),categories.forEach(function(e){e.addEventListener("click",function(){url.includes(this.dataset.val)&&window.localStorage.setItem(this.id,this.value),$('.badge[data-val="'+this.dataset.val+'"]').length?$('.badge[data-val="'+this.dataset.val+'"]').remove():(html='<button class="badge plain-btn" data-val="'+this.dataset.val+'"><span>'+this.dataset.val+'</span><div class="close close-badge"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg></div></button>',$(".filter-tags").append(html))})}),$(document).on("click","#popRecover",function(e){e.preventDefault(),$(".user-layout").html('<form class="user" id="recover"><h1>Reset your password</h1><span class="section__caption">We will send you an email to reset your password</span><div class="form__error small" role="alert"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="red" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg><span class="error__content"></span></div><div class="input-group"><div class="field"><input id="emailField" type="text" name="email" placeholder=" "><label for="emailField">Email</label></div></div><div><button class="btn button-black">Submit</button></div><div class="signup__recover"><a href="/profile/" class="small">Cancel</a></div></form>')}),$(document).on("submit",".login",function(e){e.preventDefault();var t=$(this),a={username:$('input[name="username"]').val(),password:$('input[name="password"]').val(),next:$('input[name="next"]').val()};t.addClass("disabled"),$(".button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/login/",data:JSON.stringify(a),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){t.removeClass("disabled"),e.next_url?window.location.href=e.next_url:window.location.href="/"},500)},error:function(e,a,i){setTimeout(function(){t.removeClass("disabled"),$(".button-black").html("Sign in");var a=e.responseJSON.error;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let i=0;i<a.length;i++){var r=a[i];$(".error__content").html(r)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})});const account_types=[];function handleGoogleLogin(e){$(".login").append('<div class="lds-ellipsis-div" style="position: absolute;right: 0;left: 0;z-index: 10000;height: 450px;width: 100%;pointer-events: none;background-image: linear-gradient(rgb(231 228 228 / 39%), rgb(231 228 228 / 39%));"><div class="lds-ellipsis" style="margin: 10rem;"><div></div><div></div><div></div><div></div></div></div>'),$.ajax({type:"POST",url:"/google-signin/",data:JSON.stringify({email:e}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){window.location.href="/"},500)},error:function(e,t,a){setTimeout(function(){$(".lds-ellipsis-div").remove();var t=e.responseJSON.error;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let a=0;a<t.length;a++){var i=t[a];$(".error__content").html(i)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}function handleCredentialResponse(e){var t={account_type:account_types[0],auth_token:String(e.credential)};$.ajax({type:"POST",url:"/google-login/",data:JSON.stringify(t),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){String(new URL(window.location.href)).includes("sign-up")?($(".user").removeClass("choose-account-type"),$(".user").html('<div class="user google-acc__card border card" style="display:none"><h4>Continue with Google</h4><div class="form__error small" role="alert"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="red" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg><span class="error__content"></span></div><div class="google-acc-details"><img width="30" height="30" src="'+e.data.picture+'" alt="'+e.data.email+'" style="border-radius: 50%;"><span class="google__username">'+e.data.email+'</span></div><input type="hidden" name="first_name" value="'+e.data.given_name+'"><input type="hidden" name="last_name" value="'+e.data.family_name+'"><div class="choose-account-type"><button class="plain-btn border user__type google-account__type" data-account-type="individual" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"></path></svg><h6>Individual User</h6></button><button class="plain-btn border user__type google-account__type" data-account-type="business" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-briefcase" viewBox="0 0 16 16"><path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v8A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-8A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5zm1.886 6.914L15 7.151V12.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5V7.15l6.614 1.764a1.5 1.5 0 0 0 .772 0zM1.5 4h13a.5.5 0 0 1 .5.5v1.616L8.129 7.948a.5.5 0 0 1-.258 0L1 6.116V4.5a.5.5 0 0 1 .5-.5z"></path></svg><h6>Business User</h6></button></div><div class="extra-fields"></div><div class="signup__agreement"><div class="choice-input-wrapper "><input type="checkbox" name="agreement" class="form-check-input mt-0"><label class="form-check-label small" for="">Yes, I understand and agree to the Upwork Terms of Service, including the User Agreement and Privacy Policy.</label></div></div><div id="signin"><button class="btn button-black" id="googleAuthenticationBtn">Create account</button></div></div>'),$(".google-acc__card").fadeIn("slow")):handleGoogleLogin(e.data.email)},500)},error:function(e,t,a){setTimeout(function(){var t=e.responseJSON.error;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let a=0;a<t.length;a++){var i=t[a];$(".error__content").html(i)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}$(document).on("click",".local-account__type",function(e){e.preventDefault();var t=$(this);account_types.push(t.data("account-type")),$("#flexibleSignup").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){"individual"==t.data("account-type")?$("#flexibleSignup").html('<form class="user signup"><h1>Create Account</h1><div class="form__error small" role="alert"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="red" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg><span class="error__content"></span></div><div class="input-group"><div class="field"><input id="firstnameField" type="text" name="first_name" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="firstnameField">First Name</label></div></div><div class="input-group"><div class="field"><input id="lastnameField" type="text" name="last_name" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="lastnameField">Last Name</label></div></div><div class="input-group"><div class="field"><input id="emailuserField" type="email" name="email" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="emailuserField">Email</label></div></div><div class="input-group"><div class="field"><input id="usernameField" type="text" name="username" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="usernameField">Username</label></div></div><div class="input-group"><div class="field"><input id="passwordField" type="password" name="password1" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="passwordField">Password</label></div></div><div class="input-group"><div class="field"><input id="passwordField" type="password" name="password2" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="passwordField">Confirm Password</label></div></div><div class="signup__agreement"><div class="choice-input-wrapper "><input type="checkbox" name="agreement" class="form-check-input mt-0" autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"> <label class="form-check-label small" for="">Yes, I understand and agree to the Upwork Terms of Service, including the User Agreement and Privacy Policy.</label></div></div><div class="or or--x" aria-role="presentation"> OR </div><div id="googlebtnDiv"></div><div class="signup__recover"><a href="/profile/" class="recover small">Already have an account?</a></div><div id="signin"><button class="btn button-black">Sign Up</button></div></form>'):"business"==t.data("account-type")&&$("#flexibleSignup").html('<form class="user signup"><h1>Create Account</h1><div class="form__error small" role="alert"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="red" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg><span class="error__content"></span></div><div class="input-group"><div class="field"><input id="companynameField" type="text" name="company_name" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="companynameField">Company Name</label></div></div><div class="input-group"><div class="field"><input id="emailuserField" type="email" name="email" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="emailuserField">Email</label></div></div><div class="input-group"><div class="field"><input id="passwordField" type="password" name="password1" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="passwordField">Password</label></div></div><div class="input-group"><div class="field"><input id="passwordField" type="password" name="password2" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="passwordField">Confirm Password</label></div></div><div class="signup__agreement"><div class="choice-input-wrapper "><input type="checkbox" name="agreement" class="form-check-input mt-0"><label class="form-check-label small" for="">Yes, I understand and agree to the Upwork Terms of Service, including the User Agreement and Privacy Policy.</label></div></div><div class="or or--x" aria-role="presentation"> OR </div><div id="googlebtnDiv"></div><div class="signup__recover"><a href="/profile/" class="recover small">Already have an account?</a></div><div id="signin"><button class="btn button-black">Sign Up</button></div></form>'),google.accounts.id.initialize({client_id:"86282417486-l5morm5n1a4pa39ftt9bllrdm9acfinv.apps.googleusercontent.com",callback:handleCredentialResponse}),google.accounts.id.renderButton(document.getElementById("googlebtnDiv"),{theme:"outline",size:"large"}),google.accounts.id.prompt()},500)}),$(document).on("click",".google-account__type",function(e){e.preventDefault();var t=$(this);$(".user__type.selected").removeClass("selected"),t.addClass("selected"),account_types.push(t.data("account-type")),$(".extra-fields").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){"individual"==t.data("account-type")?(console.log("individual"),$(".extra-fields").html('<div class="input-group"><div class="field"><input id="usernameField" type="text" name="username" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="usernameField">Username</label></div></div>')):"business"==t.data("account-type")&&$(".extra-fields").html('<div class="input-group"><div class="field"><input id="companynameField" type="text" name="company_name" placeholder=" " autocapitalize="off" autocomplete="off" autocorrect="off" aria-required="true"><label for="companynameField">Company Name</label></div></div>')},500)}),$(document).on("submit",".signup",function(e){if(e.preventDefault(),$('input[name="agreement"]').is(":checked"))var t=!0;else var t=!1;var a={account_type:account_types[0],first_name:$('input[name="first_name"]').val(),last_name:$('input[name="last_name"]').val(),username:$('input[name="username"]').val(),email:$('input[name="email"]').val(),password1:$('input[name="password1"]').val(),password2:$('input[name="password2"]').val(),company_name:$('input[name="company_name"]').val(),provider:"Email",agreement:t},i=$(this);i.addClass("disabled"),$(".button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/sign-up/",data:JSON.stringify(a),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){i.removeClass("disabled"),$("#flexibleSignup").html('<div class="user signup" style="text-align: left;gap: 0;"><h2>Account created!</h2><div style="color: #565e69; font-size: 16px">To log in, please click the verification link we sent to</div><legend style="font-size: 16px;font-weight: 900;">'+$('input[name="email"]').val()+'<hr><div style="color: #565e69; font-size: 16px">Didn’t receive an email? Be sure to check your spam folder, or <a data-email="'+$('input[name="email"]').val()+'" id="resend-email" style="text-decoration: underline; color: #3869d4; cursor: pointer">resend link.</a></div></div>')},500)},error:function(e,t,a){setTimeout(function(){i.removeClass("disabled"),$(".button-black").html("Sign up");var t=e.responseJSON.error;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let a=0;a<t.length;a++){var r=t[a];$(".error__content").html(r)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(document).on("submit","#recover",function(e){e.preventDefault();var t=$(this),a={email:$('input[name="email"]').val()};t.addClass("disabled"),$(".button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/reset/password/",data:JSON.stringify(a),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){$(".user-layout").html('<div class="user signup" style="text-align: left;gap: 0;"><h2>Successful!</h2><div style="color: #565e69; font-size: 16px">We have sent you an email with a link to update your password.</div><legend style="font-size: 16px;font-weight: 900;">'+$('input[name="email"]').val()+'<hr><div style="color: #565e69; font-size: 16px">Didn’t receive an email? Be sure to check your spam folder</div></div>')},500)},error:function(e,a,i){setTimeout(function(){t.removeClass("disabled"),$(".button-black").html("Submit");var a=e.responseJSON.err;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let i=0;i<a.length;i++){var r=a[i];$(".error__content").html(r)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(document).on("submit","#resetPassword",function(e){e.preventDefault();var t=window.location.pathname,a=t.split("/")[4],i=t.split("/")[5];console.log(i,a);var r={new_password1:$('input[name="new_password1"]').val(),new_password2:$('input[name="new_password2"]').val(),token:i,uid:a};$(".button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:window.location.pathname,data:JSON.stringify(r),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(){setTimeout(function(){window.location.href="/profile/"},500)},error:function(e,t,a){setTimeout(function(){$(".button-black").html("Submit");var t=e.responseJSON.err;$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let a=0;a<t.length;a++){var i=t[a];$(".error__content").html(i)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(document).on("click","#googleAuthenticationBtn",function(e){if(e.preventDefault(),$('input[name="agreement"]').is(":checked"))var t=!0;else var t=!1;var a=makePassword(25),i={account_type:$(".google-account__type.selected").data("account-type"),first_name:$('input[name="first_name"]').val(),last_name:$('input[name="last_name"]').val(),company_name:$('input[name="company_name"]').val(),username:$('input[name="username"]').val(),email:$(".google__username").text(),password1:a,password2:a,agreement:t,provider:"Google"};console.log(i),$(".button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/sign-up/",data:JSON.stringify(i),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){window.location.href="/"},500)},error:function(e,t,a){setTimeout(function(){var t=e.responseJSON.error;$(".button-black").html("Create account"),$(".form__error").fadeIn("slow"),$(".form__error").addClass("active");for(let a=0;a<t.length;a++){var i=t[a];$(".error__content").html(i)}},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),window.onload=function(){var e=String(new URL(window.location.href));(e.includes("sign-up")||e.includes("login"))&&(google.accounts.id.initialize({client_id:"86282417486-l5morm5n1a4pa39ftt9bllrdm9acfinv.apps.googleusercontent.com",callback:handleCredentialResponse}),google.accounts.id.renderButton(document.getElementById("googlebtnDiv"),{theme:"outline",size:"large"}),google.accounts.id.prompt())},$(document).on("click",".logout-btn",function(e){e.preventDefault(),$(this).html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"POST",url:"/logout/",dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){localStorage.clear(),window.location.href=""},500)},error:function(){setTimeout(function(){$(".logout-btn").html('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"></path></svg> Log out'),$(".form__error").fadeIn("slow"),$(".form__error").addClass("active"),$(".error__content").html("Something went wrong")},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})});var isLast=function(e){return!($(e).next().length>0)},getNext=function(e){return $(e).next()},getVisible=function(){return document.getElementsByClassName("is-visible")},getFirst=function(){return $(".words-wrapper").children().first()},switchWords=function(e,t){$(e).removeClass("is-visible").addClass("is-hidden"),$(t).removeClass("is-hidden").addClass("is-visible")},getStarted=function(){var e=getVisible(),t=getNext(e);if(0!==t.length)switchWords(e,t);else{$(e).removeClass("is-visible").addClass("is-hidden");var a=getFirst();$(a).removeClass("is-hidden").addClass("is-visible")}},init=function(){setInterval(function(){getStarted()},3e3)};init(),$(document).on("submit",".stripe-form",function(e){e.preventDefault(),$(this),$(".stripe-btn").html('<div class="lds-ring" style="margin: 3px 12px;"><div></div><div></div><div></div><div></div></div>').addClass("disabled"),$(".stripe-btn .lds-ring div").css({"border-color":"#fff transparent transparent transparent"}),$("#checkout-button").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>').addClass("disabled"),$(".stripe-form .button-black").html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>').addClass("disabled"),$.ajax({type:"POST",url:$(this).attr("action"),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){window.location.href=e.checkout_session_url},500)},error:function(e,t,a){setTimeout(function(){$(".stripe-btn").removeClass("disabled").html('Pay with <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="#fff" width="30"><path d="M492.4 220.8c-8.9 0-18.7 6.7-18.7 22.7h36.7c0-16-9.3-22.7-18-22.7zM375 223.4c-8.2 0-13.3 2.9-17 7l.2 52.8c3.5 3.7 8.5 6.7 16.8 6.7 13.1 0 21.9-14.3 21.9-33.4 0-18.6-9-33.2-21.9-33.1zM528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM122.2 281.1c0 25.6-20.3 40.1-49.9 40.3-12.2 0-25.6-2.4-38.8-8.1v-33.9c12 6.4 27.1 11.3 38.9 11.3 7.9 0 13.6-2.1 13.6-8.7 0-17-54-10.6-54-49.9 0-25.2 19.2-40.2 48-40.2 11.8 0 23.5 1.8 35.3 6.5v33.4c-10.8-5.8-24.5-9.1-35.3-9.1-7.5 0-12.1 2.2-12.1 7.7 0 16 54.3 8.4 54.3 50.7zm68.8-56.6h-27V275c0 20.9 22.5 14.4 27 12.6v28.9c-4.7 2.6-13.3 4.7-24.9 4.7-21.1 0-36.9-15.5-36.9-36.5l.2-113.9 34.7-7.4v30.8H191zm74 2.4c-4.5-1.5-18.7-3.6-27.1 7.4v84.4h-35.5V194.2h30.7l2.2 10.5c8.3-15.3 24.9-12.2 29.6-10.5h.1zm44.1 91.8h-35.7V194.2h35.7zm0-142.9l-35.7 7.6v-28.9l35.7-7.6zm74.1 145.5c-12.4 0-20-5.3-25.1-9l-.1 40.2-35.5 7.5V194.2h31.3l1.8 8.8c4.9-4.5 13.9-11.1 27.8-11.1 24.9 0 48.4 22.5 48.4 63.8 0 45.1-23.2 65.5-48.6 65.6zm160.4-51.5h-69.5c1.6 16.6 13.8 21.5 27.6 21.5 14.1 0 25.2-3 34.9-7.9V312c-9.7 5.3-22.4 9.2-39.4 9.2-34.6 0-58.8-21.7-58.8-64.5 0-36.2 20.5-64.9 54.3-64.9 33.7 0 51.3 28.7 51.3 65.1 0 3.5-.3 10.9-.4 12.9z"></path></svg>'),$("#checkout-button").html("CHECKOUT").removeClass("disabled"),$(".stripe-form .button-black").html("Buy Now").removeClass("disabled"),$(".form__error").fadeIn("slow"),$(".form__error").addClass("active").css({display:"flex","margin-top":"15px"}),$(".error__content").html(e.responseJSON.err)},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}),$(window).on("load",function(e){e.preventDefault();var t=new URL(window.location);if(t.href.includes("account-confirm-email")){var a=t.href.split("email/")[1];$.ajax({type:"POST",url:"/account-confirm-email/"+a,data:JSON.stringify({key:a}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){},error:function(e,t,a){setTimeout(function(){$(".form__error").fadeIn("slow"),$(".form__error").addClass("active").css({display:"flex","margin-top":"15px"}),$(".error__content").html("Something went wrong! Please contact us")},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})}}),$(document).on("click","#resend-email",function(e){e.preventDefault();var t=$(this);t.html('<div class="lds-ring" style="justify-content: flex-start"><div></div><div></div><div></div><div></div></div>'),t.addClass("disabled");var a=t.data("email");console.log(a),$.ajax({type:"POST",url:"/resend-verification-email/",data:JSON.stringify({email:a}),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(e){setTimeout(function(){t.remove(),$('<span style="color: #1a971a">New link has been sent to your email address!</span>').insertAfter("legend")},500)},error:function(e,i,r){t.removeClass("disabled"),t.html('<a data-email="'+a+'" id="resend-email" style="text-decoration: underline; color: #3869d4;">resend link.</a>'),setTimeout(function(){$(".form__error").fadeIn("slow"),$(".form__error").addClass("active").css({display:"flex","margin-top":"15px"}),$(".error__content").html(e.responseJSON.err)},500),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}})});;$(document).on("click",".btn-next",function(t){t.preventDefault();var e=$(this),a=e.data("href"),l=e.data("next-page"),i=document.querySelectorAll(".step");if(e.html('<div class="lds-ring" style="margin: 6px 12px;height: 10px;"><div></div><div></div><div></div><div></div></div>'),$(".lds-ring div").css({width:"12px",height:"12px"}),a&&!$(".form__error.active").length){var s=new URL(window.location);s.searchParams.set("name",a),l&&s.searchParams.set("page",l),window.history.pushState({},"",s),$("html, body").animate({scrollTop:0},"fast")}a&&!$(".form__error.active").length&&i.forEach(function(t,e){t.dataset.step==a&&(i[e-1].classList.remove("active"),i[e-1].className+=" step-completed",t.classList.add("active"))}),e.is("#validatePersonalInfo")?validatePersonalInformation():e.is("#validateElectricityBill")?validateElectricityBill():e.is("#validateInstallationType")?validateInstallationType():e.is("#validateRoofStyle")?validateRoofStyle():e.is("#confirmSelectedPanel")?confirmSelectedPanel():e.is("#confirmSelectedFitting")?confirmSelectedFitting():e.is("#confirmSelectedInverter")?confirmSelectedInverter():e.is("#validateCableLength")?validateCableLength():e.is("#confirmInvBatteryLength")?confirmInvBatteryLength():e.is("#confirmStorageCable")?confirmStorageCable():e.is("#validateRoofDimensions")&&validateRoofDimensions(),setTimeout(function(){$(".form__error").fadeOut("slow"),$(".form__error").removeClass("active")},1e4)}),$(document).on("click",".skip-btn",function(){var t=$(this),e=t.data("href"),a=t.data("skip"),l=t.data("next-page"),i=document.querySelectorAll(".step");if(e){var s=new URL(window.location);s.searchParams.set("name",e),s.searchParams.set("page",l),window.history.pushState({},"",s),$("html, body").animate({scrollTop:0},"fast")}e&&!$(".form__error.active").length&&i.forEach(function(t,a){t.dataset.step==e&&(i[a-1].className+=" step-completed",t.classList.add("active"))}),$.get("/static/quote_pages/"+a+".html",function(t){$("#content").html(t)},"html")}),$(document).on("click",".btn-back",function(){var t=$(this),e=t.data("href"),a=t.data("back"),l=new URL(window.location),i=document.querySelectorAll(".step");e&&(l.searchParams.set("name",e),l.searchParams.set("page",a),window.history.pushState({},"",l),$(".form__error.active").length||i.forEach(function(t,a){t.dataset.step==e&&(0!=a&&i[a-1].classList.remove("active"),i[a+1].classList.remove("active"),t.classList.add("active"))})),l.href.includes("section?name")&&"parts"!=l.searchParams.get("page")&&"storage-system-size"!=l.searchParams.get("page")&&"extra-help"!=l.searchParams.get("page")?$.get("/static/quote_pages/"+a+".html",function(t){$("#content").html(t)},"html"):"storage-system-size"==l.searchParams.get("page")||"extra-help"==l.searchParams.get("page")?loadObjects():"parts"==l.searchParams.get("page")&&loadProducts()}),$(document).on("click",".choice-card, .product-choice",function(){$(".choice-card").removeClass("selected"),$(".product-choice").removeClass("selected"),$(this).addClass("selected")}),$(document).on("submit",".quote-sections form",function(t){t.preventDefault()}),$(document).on("click","#installation__type .choice-card",function(){var t=$(this).find(".choice-text"),e=new URL(window.location);if("Roof"==t.text())e.searchParams.set("page","single-phase"),$.get("/static/quote_pages/single-phase.html",function(t){$("#content").html(t)},"html");else if("Standalone"==t.text()){var e=new URL(window.location);e.searchParams.set("page","standalone-installation"),$.get("/static/quote_pages/standalone-installation.html",function(t){$("#content").html(t)},"html")}window.history.pushState({},"",e)}),$(document).on("click","#standalone__installation .choice-card",function(){"Campervan"==$(this).find(".choice-text").text()?$("#content").html('<div class="page-title-wrap text-center"><h4 class="sub-title">Please see the campervan bundles in our shop</h4></div><div class="btn-group-footer"><a data-back="standalone-installation" type="button" class="btn primary-btn btn-back"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg>Back</a></div>'):$("#content").html('<div class="page-title-wrap text-center"><h4 class="sub-title">Please call us directly on 08000016802</h4><a href="{% url "shop" %}" type="button" class="btn button-black" style="width: 150px;margin: 2rem auto auto;">Shop</a></div><div class="btn-group-footer"><a data-back="standalone-installation" type="button" class="btn primary-btn btn-back"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg>Back</a></div>')}),$(document).on("click","#singlePhase button",function(){if("No"==$(this).text())$("#content").html('<div class="page-title-wrap text-center"><h4 class="sub-title">Please call us directly on 08000016802</h4></div><div class="btn-group-footer"><a data-back="single-phase" type="button" class="btn primary-btn btn-back"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg>Back</a></div>'),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else{var t=new URL(window.location);t.searchParams.set("page","spare-way"),window.history.pushState({},"",t),$.get("/static/quote_pages/spare-way.html",function(t){$("#content").html(t)},"html")}}),$(document).on("click","#spareWay button",function(){var t=$(this),e=new URL(window.location);"No"==t.text()?($("#content").html('<div class="page-title-wrap text-center"><h4 class="sub-title">Please call us directly on 08000016802</h4></div><div class="btn-group-footer"><a data-back="single-phase" type="button" class="btn primary-btn btn-back"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"></path></svg>Back</a></div>'),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')):(e.searchParams.set("page","roof-style"),window.history.pushState({},"",e),$.get("/static/quote_pages/roof-style.html",function(t){$("#content").html(t)},"html"))}),$(document).on("click","#storageSystem button",function(){var t=$(this),e=new URL(window.location);"Yes"==t.text()?(e.searchParams.set("page","storage-system-size"),window.history.pushState({},"",e),loadObjects()):(localStorage.getItem("storage_system")&&(localStorage.removeItem("storage_system"),localStorage.removeItem("fattened_storage_cable_length"),localStorage.removeItem("storagecableField"),localStorage.removeItem("fattened_cable_length"),localStorage.removeItem("cablelengthbtoinvField")),e.searchParams.set("page","extra-help"),window.history.pushState({},"",e),loadObjects())}),$(document).on("click","#extraRequiremet button",function(t){t.preventDefault(),$(".prp-btn").click()}),$(document).on("click","#concludeQuote, #extraRequiremet button",function(t){t.preventDefault(),$("#content").html('<div class="text"><h2><span class="words-wrapper"><b class="is-visible">We are working on it, give us a minute...</b><b>Setting up stuff...</b><b>Getting things ready...</b><b>Almost done...</b></span><h2></div>'),$(this).hasClass("primary-btn")&&localStorage.setItem("extra_service",$(this).data("id"));var e={full_name:localStorage.getItem("fullnameField"),address:localStorage.getItem("addressField"),postcode:localStorage.getItem("postcodeField"),email:localStorage.getItem("emailField"),property_type:localStorage.getItem("housetypeField"),no_floors:localStorage.getItem("nofloorsField"),no_bedrooms:localStorage.getItem("nobedroomsField"),phone:localStorage.getItem("phoneField"),bill_rate:localStorage.getItem("billrateField"),roof_style:localStorage.getItem("roof_style"),roof_width:localStorage.getItem("widthField"),roof_height:localStorage.getItem("heightField"),panels_count:localStorage.getItem("quantity"),selected_panel:localStorage.getItem("panel_slug"),fitting:localStorage.getItem("fitting_slug"),inverter:localStorage.getItem("inverter_slug"),cable_length_panel_cons:localStorage.getItem("fattened_consumer_cable_length"),cable_length_bat_inv:localStorage.getItem("fattened_cable_length"),storage_cable:localStorage.getItem("fattened_storage_cable_length"),storage_system:localStorage.getItem("storage_system"),extra_service:localStorage.getItem("extra_service")};$.post({type:"POST",url:"/build-quote/section",data:JSON.stringify(e),dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(t){var e="/quote/"+t.redirect_url;console.log(e),setTimeout(function(){window.location.href=e,localStorage.removeItem("extra_service")},1e3)},error:function(t,e,a){console.log("not working")}})});const quote_url="/upload-products/",object_url="/upload-objects/",content=$("#content"),delay_100_ms=100,ajax_func=function(t,e){$.getJSON(t,e).done(t=>{setTimeout(function(){content.html(t.html_from_view)},100)})},load_func=function(t,e){$.getJSON(t,e).done(t=>{setTimeout(function(){content.html(t.html_from_view)},100)})};function loadProducts(){var t=new URL(window.location);let e={product_type:t.searchParams.get("name"),slug:localStorage.getItem("panel_slug"),roof_type:localStorage.getItem("roof_style")};$("#content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),scheduled_function&&clearTimeout(scheduled_function),scheduled_function=setTimeout(ajax_func,100,"/upload-products/",e)}function loadObjects(){var t=new URL(window.location);let e={object_type:t.searchParams.get("page")};$("#content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),scheduled_function&&clearTimeout(scheduled_function),scheduled_function=setTimeout(load_func,100,"/upload-objects/",e)}function updateCurrentSection(){var t=new URL(window.location);if(!t.href.includes("build-quote")||t.href.includes("page")&&t.href.includes("section?name")){if("summary"==t.searchParams.get("page"))$(".quote-builder-container").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){$.get("/static/quote_pages/summary.html",function(t){$(".quote-builder-container").html(t)},"html")},delay_by_in_ms);else if("parts"==t.searchParams.get("page"))loadProducts();else if("storage-system-size"==t.searchParams.get("page")||"extra-help"==t.searchParams.get("page"))loadObjects();else if(t.href.includes("section?name")&&"parts"!=t.searchParams.get("page")){$("#content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>');var e="/static/quote_pages/"+t.searchParams.get("page")+".html";setTimeout(function(){$.get(e,function(t){$("#content").html(t)},"html")},delay_by_in_ms)}else"Summary"==t.searchParams.get("page")&&($("#content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){$.get("/static/quote_pages/summary.html",function(t){$(".quote-builder").html(t)},"html")},delay_by_in_ms))}else t.searchParams.set("name","Personal Information"),t.searchParams.set("page","personal-information"),window.history.pushState({},"",t),$("#content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){$.get("/static/quote_pages/personal-information.html",function(t){$("#content").html(t)},"html")},delay_by_in_ms);var a=$('.step[data-step="'+t.searchParams.get("name")+'"');$(a).addClass("active"),$(a).prevAll(".step").addClass("step-completed").removeClass("active")}function displayError(){$(".form__error").fadeIn("slow"),$(".form__error").css("display","flex"),$(".form__error").addClass("active")}function validateEmail(t){return/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t)}function validatePersonalInformation(){if($("#housetypeField").val()){if($("#nobedroomsField").val()){if($("#nofloorsField").val()){if($("input[name='agreement']").is(":checked")){if(validateEmail($('input[name="email"]').val())){document.querySelectorAll("input").forEach(function(t,e){localStorage.setItem(t.id,t.value)});var t=new URL(window.location);t.searchParams.set("name","monthly-bill-rate"),t.searchParams.set("page","bill-rate"),window.history.pushState({},"",t),$.get("/static/quote_pages/bill-rate.html",function(t){$("#content").html(t)},"html")}else displayError(),$(".error__content").html("You have entered an invalid email address!"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}else displayError(),$(".error__content").html("You must agree to Solar Panels Terms of Service, including the User Agreement and Privacy Policy."),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}else displayError(),$(".error__content").html("Number of floors: This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}else displayError(),$(".error__content").html("Number of bedrooms: This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}else displayError(),$(".error__content").html("Type of house: This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function validateElectricityBill(){if(0>=parseInt($("#billrateField").val()))displayError(),$(".error__content").html("Amount cannot be less than or equal to 0 USD"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else{var t=document.getElementById("billrateField");localStorage.setItem(t.id,t.value);var e=new URL(window.location);e.searchParams.set("page","installation-type"),window.history.pushState({},"",e),$.get("/static/quote_pages/installation-type.html",function(t){$("#content").html(t)},"html")}}function validateInstallationType(){if($(".choice-card.selected").length){var t=new URL(window.location);if("Standalone"==$(".choice-card.selected .choice-text").text())t.searchParams.set("page","single-phase"),$.get("/static/quote_pages/standalone-installation.html",function(t){$("#content").html(t)},"html");else if("Roof"==$(".choice-card.selected .choice-text").text()){t.searchParams.set("page","standalone-installation");var e=$(".choice-card.selected .choice-text").text();localStorage.setItem("installation_type",e),$.get("/static/quote_pages/single-phase.html",function(t){$("#content").html(t)},"html")}window.history.pushState({},"",t)}else displayError(),$(".error__content").html("You should choose one of the options"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function validateRoofStyle(){if($(".choice-card.selected").length){var t=$(".choice-card.selected .choice-text").text();localStorage.setItem("roof_style",t);var e=new URL(window.location);e.searchParams.set("page","roof-dimensions"),window.history.pushState({},"",e),$.get("/static/quote_pages/roof-dimensions.html",function(t){$("#content").html(t)},"html")}else displayError(),$(".error__content").html("You should choose one of the options"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function validateRoofDimensions(){if($("#widthField").val()){if($("#heightField").val()){if(0>=parseInt($("#heightField").val()))displayError(),$(".error__content").html("Roof's height cannot be less than or equal to zero"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else if(0>=parseInt($("#widthField").val()))displayError(),$(".error__content").html("Roof's width cannot be less than or equal to zero"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else{document.querySelectorAll("input").forEach(function(t,e){localStorage.setItem(t.id,t.value)});var t=new URL(window.location);t.searchParams.set("name","Panel"),t.searchParams.set("page","parts"),window.history.pushState({},"",t),loadProducts()}}else displayError(),$(".error__content").html("This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}else displayError(),$(".error__content").html("This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function validateCableLength(){if($("#cablelengthField").val()){if(0>=parseInt($("#cablelengthField").val()))displayError(),$(".error__content").html("Invalid length value!"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else{var t=new URL(window.location);t.searchParams.set("name","Storage System"),t.searchParams.set("page","storage-system"),window.history.pushState({},"",t),$.get("/static/quote_pages/storage-system.html",function(t){$("#content").html(t)},"html")}}else displayError(),$(".error__content").html("This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function possibleMaxPanels(){var t,e=Math.round(parseFloat($("#panel-height").text())),a=Math.round(parseFloat($("#panel-width").text())),l=Math.round(parseFloat(localStorage.getItem("widthField")));return Math.round(Math.round(parseFloat(localStorage.getItem("heightField")))/e*(l/a))}function confirmSelectedPanel(){if($('input[name="panels_count"]').val()>$(".quantity-input").attr("max"))displayError(),$(".error__content").html("You cannot order more than the maximum quantity");else if($('input[name="panels_count"]').val()>possibleMaxPanels())displayError(),$(".error__content").html("Based on your roof dimensions, max amount of panels you can order is "+possibleMaxPanels());else{var t=$(".product-choice.selected").data("slug"),e=$(".quantity-input").val();localStorage.setItem("panel_slug",t),localStorage.setItem("quantity",e);var a=new URL(window.location);a.searchParams.set("name","Fitting"),a.searchParams.set("page","parts"),window.history.pushState({},"",a),loadProducts()}}function confirmSelectedFitting(){var t=$(".product-choice").data("slug");localStorage.setItem("fitting_slug",t);var e=new URL(window.location);e.searchParams.set("name","Inverter"),e.searchParams.set("page","parts"),window.history.pushState({},"",e),loadProducts()}function confirmSelectedInverter(){if($(".product-choice.selected").length){var t=$(".product-choice").data("slug");localStorage.setItem("inverter_slug",t);var e=new URL(window.location);e.searchParams.set("page","Storage System"),e.searchParams.set("page","cable-length"),window.history.pushState({},"",e),$.get("/static/quote_pages/cable-length.html",function(t){$("#content").html(t)},"html")}else displayError(),$(".error__content").html("You should choose an inverter"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function confirmInvBatteryLength(){if(0>=parseInt($("#cablelengthbtoinvField").val()))displayError(),$(".error__content").html("Invalid length value!"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else if($("#cablelengthbtoinvField").val().length){var t=new URL(window.location);t.searchParams.set("page","storage-cable"),window.history.pushState({},"",t),$.get("/static/quote_pages/storage-cable.html",function(t){$("#content").html(t)},"html")}else displayError(),$(".error__content").html("This field cannot be blank!"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}function confirmStorageCable(){if(0>=parseInt($("#storagecableField").val()))displayError(),$(".error__content").html("Invalid length value!"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>');else if($("#storagecableField").val().length){var t=document.getElementById("storagecableField");localStorage.setItem(t.id,t.value);var e=parseFloat(t.value)+parseFloat(.2*t.value);localStorage.setItem("fattened_storage_cable_length",e);var a=new URL(window.location);a.searchParams.set("page","extra-help"),window.history.pushState({},"",a),loadObjects()}else displayError(),$(".error__content").html("This field cannot be blank"),$(".toolbar__section-middle .btn-next").html('<svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"></path></svg>')}$(document).on("click",".step.step-completed",function(t){t.preventDefault();var e=new URL(window.location),a=$(this),l=$(".step.step-completed").last();l.next().removeClass("active"),l.prevAll().removeClass("active"),a.nextAll(".step-completed").removeClass("active"),a.prevAll(".step").removeClass("active"),a.addClass("active"),e.searchParams.set("name",a.data("step")),e.searchParams.set("page",a.data("page")),window.history.pushState({},"",e),updateCurrentSection()}),$(window).on("load popstate hashchange",function(){new URL(window.location).href.includes("build-quote/section")&&updateCurrentSection()}),$(document).on("DOMSubtreeModified","#content",function(){document.querySelectorAll(".section input").forEach(function(t,e){var a=localStorage.getItem(t.id);a&&(document.getElementById(t.id).value=a)})}),$(document).on("DOMNodeInserted",".card-list",function(){document.querySelectorAll(".product-choice").forEach(function(t,e){var a=localStorage.getItem("panel_slug"),l=localStorage.getItem("fitting_slug"),i=localStorage.getItem("inverter_slug");(t.dataset.slug==a||t.dataset.slug==l||t.dataset.slug==i)&&t.classList.add("selected")})}),$(document).on("change","#cablelengthField",function(){var t=$(this),e=t.val();localStorage.setItem(t.attr("id"),e);var a=parseFloat(e)+parseFloat(.2*e);localStorage.setItem("fattened_consumer_cable_length",a)}),$(document).on("click","#storageSystemSize button",function(){var t=$(this),e=new URL(window.location);e.searchParams.set("name","Cable Length from Battery to Inverter"),e.searchParams.set("page","cable-length-battery-inverter"),window.history.pushState({},"",e),localStorage.setItem("storage_system",t.data("slug")),$.get("/static/quote_pages/cable-length-battery-inverter.html",function(t){$("#content").html(t)},"html")}),$(document).on("change","#cablelengthbtoinvField",function(){var t=$(this),e=t.val();localStorage.setItem(t.attr("id"),e);var a=parseFloat(e)+parseFloat(.2*e);localStorage.setItem("fattened_cable_length",a)}),$(document).on("click",".quote-builder .modal-btn",function(t){t.preventDefault();var e=$(this),a=$(".product-choice.selected").data("slug");$(this).html('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>'),$.ajax({type:"GET",url:"/variant-details/"+a,dataType:"json",headers:{"X-CSRFTOKEN":csrftoken,"Content-type":"application/json"},success:function(t){e.html("Choose Panel"),$(".modal-window").css({visibility:"visible",opacity:1,"pointer-events":"auto"}),$(".modal-content").html('<div class="lds-ellipsis" style="display: flex;-webkit-box-pack: center;justify-content: center;margin: auto;"><div></div><div></div><div></div><div></div></div>'),setTimeout(function(){$(".modal-content").html(t.html_from_view)},delay_by_in_ms)},error:function(){e.html("Choose Panel")}})}),$(document).on("click",".step-btn",function(){var t=$(this),e=t.data("tab");$(".step-btn").removeClass("active"),t.addClass("active"),$(".section-content").hide(),$("#"+e).css("visibility","visible").show()}),$(document).on("click","#loadpreviousProducts",function(){loadProducts()});;